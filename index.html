<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BaintWallet - Premium Crypto Wallet</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap');
        
        * {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body { margin: 0; padding: 0; overflow-x: hidden; }
        #root { min-height: 100vh; }
        
        @keyframes meshGradient {
            0%, 100% { background-position: 0% 0%, 100% 100%, 50% 50%; }
            33% { background-position: 100% 0%, 0% 100%, 25% 75%; }
            66% { background-position: 50% 100%, 50% 0%, 75% 25%; }
        }
        
        .animated-gradient {
            background: 
                radial-gradient(at 0% 0%, #667eea 0px, transparent 50%),
                radial-gradient(at 100% 100%, #764ba2 0px, transparent 50%),
                radial-gradient(at 50% 50%, #f093fb 0px, transparent 50%),
                radial-gradient(at 100% 0%, #4facfe 0px, transparent 50%),
                linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            background-size: 200% 200%, 200% 200%, 200% 200%, 200% 200%, 100% 100%;
            animation: meshGradient 20s ease infinite;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(30px);
            border: 2px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        
        .dark .glass-card {
            background: rgba(15, 15, 35, 0.95);
            border: 2px solid rgba(139, 92, 246, 0.3);
            box-shadow: 0 8px 32px 0 rgba(139, 92, 246, 0.2);
        }
        
        .dark { color: #f5f5f5; }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(40px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes spin { to { transform: rotate(360deg); } }
        
        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        .fade-in { animation: fadeIn 0.8s ease; }
        .float-animation { animation: float 4s ease-in-out infinite; }
        .spinner { animation: spin 1s linear infinite; }
        
        .hover-lift {
            transition: all 0.3s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(139, 92, 246, 0.3);
        }
        
        .hover-glow:hover {
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.6);
            transform: scale(1.05);
        }
        
        .premium-button {
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb, #4facfe);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientFlow 5s ease infinite;
        }
        
        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s;
        }
        
        .dot-active {
            width: 32px;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.9);
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        
        function App() {
          const [view, setView] = useState('intro');
          const [introStep, setIntroStep] = useState(0);
          const [darkMode, setDarkMode] = useState(false);
          const [wallet, setWallet] = useState(null);
          const [loading, setLoading] = useState(false);
          const [message, setMessage] = useState('');
          const [seedInput, setSeedInput] = useState('');
          const [chain, setChain] = useState('ETH');
          const [isTestnet, setIsTestnet] = useState(true);
          const [sendTo, setSendTo] = useState('');
          const [sendAmount, setSendAmount] = useState('');
          const [txs, setTxs] = useState([]);
          const [countingBalance, setCountingBalance] = useState(0);
          const qrRef = useRef(null);

          const chains = {
            ETH: {
              name: 'Ethereum', symbol: 'ETH', icon: '‚ü†', color: 'from-blue-500 to-purple-600',
              testnet: { rpc: 'https://ethereum-sepolia-rpc.publicnode.com', explorer: 'https://sepolia.etherscan.io', chainId: 11155111 },
              mainnet: { rpc: 'https://ethereum-rpc.publicnode.com', explorer: 'https://etherscan.io', chainId: 1 }
            },
            BNB: {
              name: 'BNB Chain', symbol: 'BNB', icon: '‚óÜ', color: 'from-yellow-400 to-orange-500',
              testnet: { rpc: 'https://bsc-testnet-rpc.publicnode.com', explorer: 'https://testnet.bscscan.com', chainId: 97 },
              mainnet: { rpc: 'https://bsc-rpc.publicnode.com', explorer: 'https://bscscan.com', chainId: 56 }
            },
            POLYGON: {
              name: 'Polygon', symbol: 'MATIC', icon: '‚¨°', color: 'from-purple-500 to-purple-700',
              testnet: { rpc: 'https://rpc-amoy.polygon.technology', explorer: 'https://amoy.polygonscan.com', chainId: 80002 },
              mainnet: { rpc: 'https://polygon-rpc.com', explorer: 'https://polygonscan.com', chainId: 137 }
            },
            ARC: {
              name: 'Circle Arc', symbol: 'USDC', icon: 'üîµ', color: 'from-blue-400 to-cyan-600',
              testnet: { rpc: 'https://arc-testnet.rpc.caldera.xyz/http', explorer: 'https://arc-testnet.explorer.caldera.xyz', chainId: 41454 },
              mainnet: { rpc: 'https://arc-mainnet.rpc.caldera.xyz/http', explorer: 'https://arc.explorer.caldera.xyz', chainId: 41453 }
            }
          };

          const introSlides = [
            { icon: 'üåü', title: 'Welcome to BaintWallet', description: 'The most advanced crypto wallet with multi-chain support.', gradient: 'from-blue-500 to-purple-600' },
            { icon: 'üîê', title: 'Your Keys, Your Crypto', description: 'Military-grade encryption. We never store your private keys.', gradient: 'from-purple-500 to-pink-600' },
            { icon: '‚ö°', title: 'Multi-Chain Support', description: 'Manage assets across multiple blockchains seamlessly.', gradient: 'from-yellow-400 to-orange-500' },
            { icon: 'üíé', title: 'Premium Experience', description: 'Real-time prices, token management, beautiful UI.', gradient: 'from-indigo-500 to-purple-600' }
          ];

          const celebrate = () => { confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } }); };
          const showMsg = (msg, type = 'info') => { setMessage(msg); if (type === 'success') celebrate(); setTimeout(() => setMessage(''), 4000); };
          const getRpc = () => { const c = chains[chain]; return isTestnet ? c.testnet.rpc : c.mainnet.rpc; };
          const getProvider = () => new ethers.providers.JsonRpcProvider(getRpc());
          const getExplorer = () => { const c = chains[chain]; return isTestnet ? c.testnet.explorer : c.mainnet.explorer; };

          const createWallet = async () => {
            setLoading(true);
            try {
              const w = ethers.Wallet.createRandom();
              const provider = getProvider();
              const balance = await provider.getBalance(w.address);
              setWallet({ address: w.address, privateKey: w.privateKey, mnemonic: w.mnemonic.phrase, balance: ethers.utils.formatEther(balance) });
              showMsg('‚úÖ Wallet created successfully!', 'success');
              setView('wallet');
            } catch (e) { showMsg('‚ùå Error: ' + e.message, 'error'); }
            setLoading(false);
          };

          const importWallet = async () => {
            if (!seedInput.trim()) { showMsg('‚ùå Enter seed phrase', 'error'); return; }
            setLoading(true);
            try {
              const w = ethers.Wallet.fromMnemonic(seedInput.trim());
              const provider = getProvider();
              const balance = await provider.getBalance(w.address);
              setWallet({ address: w.address, privateKey: w.privateKey, mnemonic: w.mnemonic.phrase, balance: ethers.utils.formatEther(balance) });
              showMsg('‚úÖ Wallet imported!', 'success');
              setSeedInput('');
              setView('wallet');
            } catch (e) { showMsg('‚ùå Invalid seed phrase', 'error'); }
            setLoading(false);
          };

          const send = async () => {
            if (!sendTo || !sendAmount) { showMsg('‚ùå Enter address and amount', 'error'); return; }
            if (!ethers.utils.isAddress(sendTo)) { showMsg('‚ùå Invalid address', 'error'); return; }
            setLoading(true);
            try {
              const provider = getProvider();
              const signer = new ethers.Wallet(wallet.privateKey, provider);
              const tx = await signer.sendTransaction({ to: sendTo, value: ethers.utils.parseEther(sendAmount) });
              showMsg('‚úÖ Transaction sent!', 'success');
              setTxs([{ hash: tx.hash, to: sendTo, amount: sendAmount, time: new Date().toLocaleString(), status: 'pending', chain: chain, symbol: chains[chain].symbol }, ...txs]);
              tx.wait().then(() => { setTxs(prev => prev.map(t => t.hash === tx.hash ? {...t, status: 'confirmed'} : t)); showMsg('‚úÖ Confirmed!', 'success'); });
              setSendTo(''); setSendAmount(''); setView('wallet');
            } catch (e) { showMsg('‚ùå ' + e.message, 'error'); }
            setLoading(false);
          };

          useEffect(() => {
            if (view === 'receive' && qrRef.current && wallet) {
              qrRef.current.innerHTML = '';
              new QRCode(qrRef.current, { text: wallet.address, width: 200, height: 200 });
            }
          }, [view, wallet]);

          useEffect(() => {
            if (wallet && wallet.balance) {
              const target = parseFloat(wallet.balance);
              let current = 0;
              const timer = setInterval(() => {
                current += target / 30;
                if (current >= target) { setCountingBalance(target); clearInterval(timer); } 
                else { setCountingBalance(current); }
              }, 33);
              return () => clearInterval(timer);
            }
          }, [wallet?.balance]);

          const copyToClipboard = (text) => { navigator.clipboard.writeText(text); showMsg('‚úÖ Copied!', 'success'); };
          const nextIntroSlide = () => { if (introStep < introSlides.length - 1) { setIntroStep(introStep + 1); } else { setView('create'); } };
          const skipIntro = () => { setView('create'); };

          return (
            <div className={`min-h-screen ${darkMode ? 'dark' : ''}`}>
              <div className="animated-gradient min-h-screen p-4 md:p-8">
                
                {view === 'intro' && (
                  <div className="max-w-2xl mx-auto min-h-screen flex items-center justify-center">
                    <div className="w-full fade-in">
                      <div className="glass-card rounded-3xl p-12 text-center">
                        <div className={`absolute top-0 left-0 right-0 h-2 bg-gradient-to-r ${introSlides[introStep].gradient}`}></div>
                        <div className="text-8xl mb-8 float-animation">{introSlides[introStep].icon}</div>
                        <h1 className="text-5xl font-black mb-6 gradient-text">{introSlides[introStep].title}</h1>
                        <p className="text-xl text-gray-700 dark:text-gray-300 mb-12">{introSlides[introStep].description}</p>
                        <div className="flex justify-center space-x-3 mb-8">
                          {introSlides.map((_, i) => (<div key={i} className={`dot ${i === introStep ? 'dot-active' : ''}`} />))}
                        </div>
                        <div className="flex gap-4 justify-center">
                          <button onClick={skipIntro} className="px-8 py-4 rounded-2xl font-bold text-lg bg-gray-200 dark:bg-gray-700 hover-lift">Skip</button>
                          <button onClick={nextIntroSlide} className="px-8 py-4 premium-button text-white rounded-2xl font-bold text-lg hover-lift shadow-2xl">{introStep === introSlides.length - 1 ? "Get Started üöÄ" : "Next ‚Üí"}</button>
                        </div>
                      </div>
                    </div>
                  </div>
                )}

                {view !== 'intro' && (
                  <div className="max-w-4xl mx-auto mb-8 fade-in">
                    <div className="glass-card rounded-3xl p-6 flex justify-between items-center hover-lift">
                      <div className="flex items-center space-x-4">
                        <div className="text-5xl">üíé</div>
                        <div>
                          <h1 className="text-4xl font-black gradient-text">BaintWallet</h1>
                          <p className="text-sm text-gray-600 dark:text-gray-400 font-semibold">Circle Arc Ready</p>
                        </div>
                      </div>
                      <div className="flex items-center space-x-3">
                        <button onClick={() => setDarkMode(!darkMode)} className="p-3 rounded-xl hover-glow text-2xl">{darkMode ? '‚òÄÔ∏è' : 'üåô'}</button>
                        {wallet && (<button onClick={() => { setWallet(null); setView('create'); setTxs([]); }} className="px-5 py-3 bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-xl font-bold hover-lift">Logout</button>)}
                      </div>
                    </div>
                  </div>
                )}

                {message && (
                  <div className="max-w-4xl mx-auto mb-6">
                    <div className={`glass-card rounded-2xl p-4 ${message.includes('‚ùå') ? 'border-red-500' : 'border-green-500'} border-2`}>
                      <p className="text-center font-semibold">{message}</p>
                    </div>
                  </div>
                )}

                <div className="max-w-4xl mx-auto">
                  {view === 'create' && !wallet && (
                    <div className="space-y-6 fade-in">
                      <div className="glass-card rounded-3xl p-10 hover-lift">
                        <div className="text-center mb-10">
                          <div className="text-7xl mb-6 float-animation">üöÄ</div>
                          <h2 className="text-4xl font-black gradient-text mb-3">Create Wallet</h2>
                          <p className="text-gray-600 dark:text-gray-300 text-lg">Start your Web3 journey</p>
                        </div>
                        <div className="space-y-4">
                          <button onClick={createWallet} disabled={loading} className="w-full py-5 premium-button text-white rounded-2xl font-bold text-xl hover-lift disabled:opacity-50">{loading ? '‚è≥ Creating...' : '‚ú® Create New Wallet'}</button>
                          <div className="relative py-4">
                            <div className="absolute inset-0 flex items-center"><div className="w-full border-t-2 border-gray-300"></div></div>
                            <div className="relative flex justify-center"><span className="px-6 bg-white dark:bg-gray-900 text-gray-500 font-bold">OR IMPORT</span></div>
                          </div>
                          <textarea value={seedInput} onChange={(e) => setSeedInput(e.target.value)} placeholder="Enter 12-word seed phrase..." className="w-full p-5 rounded-2xl border-2 border-purple-300 dark:border-purple-700 dark:bg-gray-800 focus:border-purple-500 focus:outline-none" rows="3" />
                          <button onClick={importWallet} disabled={loading} className="w-full py-5 bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-2xl font-bold text-xl hover-lift disabled:opacity-50 premium-button">{loading ? '‚è≥ Importing...' : 'üì• Import Wallet'}</button>
                        </div>
                      </div>
                    </div>
                  )}

                  {view === 'wallet' && wallet && (
                    <div className="space-y-6 fade-in">
                      <div className={`glass-card rounded-3xl p-10 bg-gradient-to-br ${chains[chain].color} text-white hover-lift shadow-2xl`}>
                        <div className="flex justify-between items-start mb-8">
                          <div>
                            <p className="text-sm opacity-75 mb-2 font-semibold">Total Balance</p>
                            <h2 className="text-6xl font-black mb-3">{countingBalance.toFixed(4)}</h2>
                            <div className="text-3xl font-bold">{chains[chain].symbol}</div>
                          </div>
                          <div className="text-right">
                            <div className="text-7xl mb-3 float-animation">{chains[chain].icon}</div>
                            <div className="text-base font-bold">{chains[chain].name}</div>
                          </div>
                        </div>
                      </div>

                      <div className="glass-card rounded-3xl p-6 hover-lift">
                        <div className="flex items-center justify-between">
                          <div className="flex-1">
                            <p className="text-sm text-gray-600 dark:text-gray-400 mb-1">Address</p>
                            <p className="font-mono text-sm break-all">{wallet.address}</p>
                          </div>
                          <button onClick={() => copyToClipboard(wallet.address)} className="ml-4 p-3 bg-purple-100 dark:bg-purple-900 rounded-xl hover-glow">üìã</button>
                        </div>
                      </div>

                      <div className="glass-card rounded-3xl p-6">
                        <label className="block text-sm font-semibold mb-2">Chain</label>
                        <select value={chain} onChange={(e) => setChain(e.target.value)} className="w-full p-3 rounded-xl border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-800 focus:border-purple-500 focus:outline-none">
                          {Object.entries(chains).map(([key, c]) => (<option key={key} value={key}>{c.icon} {c.name}</option>))}
                        </select>
                      </div>

                      <div className="grid grid-cols-2 gap-6">
                        <button onClick={() => setView('send')} className="glass-card rounded-3xl p-8 hover-lift text-center">
                          <div className="text-5xl mb-3">üì§</div>
                          <div className="font-bold text-xl">Send</div>
                        </button>
                        <button onClick={() => setView('receive')} className="glass-card rounded-3xl p-8 hover-lift text-center">
                          <div className="text-5xl mb-3">üì•</div>
                          <div className="font-bold text-xl">Receive</div>
                        </button>
                      </div>
                    </div>
                  )}

                  {view === 'send' && wallet && (
                    <div className="space-y-6 fade-in">
                      <div className="glass-card rounded-3xl p-8">
                        <div className="flex items-center mb-6">
                          <button onClick={() => setView('wallet')} className="mr-4 p-2 bg-gray-100 dark:bg-gray-800 rounded-lg">‚Üê Back</button>
                          <h2 className="text-2xl font-bold">Send {chains[chain].symbol}</h2>
                        </div>
                        <div className="space-y-4">
                          <input type="text" value={sendTo} onChange={(e) => setSendTo(e.target.value)} placeholder="Recipient address (0x...)" className="w-full p-4 rounded-xl border-2 dark:bg-gray-800 focus:border-purple-500 focus:outline-none" />
                          <input type="number" step="0.0001" value={sendAmount} onChange={(e) => setSendAmount(e.target.value)} placeholder="Amount" className="w-full p-4 rounded-xl border-2 dark:bg-gray-800 focus:border-purple-500 focus:outline-none" />
                          <button onClick={send} disabled={loading} className="w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold text-lg hover-lift disabled:opacity-50">{loading ? '‚è≥ Sending...' : 'üöÄ Send'}</button>
                        </div>
                      </div>
                    </div>
                  )}

                  {view === 'receive' && wallet && (
                    <div className="space-y-6 fade-in">
                      <div className="glass-card rounded-3xl p-8">
                        <div className="flex items-center mb-6">
                          <button onClick={() => setView('wallet')} className="mr-4 p-2 bg-gray-100 dark:bg-gray-800 rounded-lg">‚Üê Back</button>
                          <h2 className="text-2xl font-bold">Receive</h2>
                        </div>
                        <div className="text-center">
                          <div className="inline-block p-6 bg-white dark:bg-gray-800 rounded-2xl mb-6">
                            <div ref={qrRef}></div>
                          </div>
                          <div className="p-4 bg-gray-50 dark:bg-gray-800 rounded-xl font-mono text-sm break-all mb-4">{wallet.address}</div>
                          <button onClick={() => copyToClipboard(wallet.address)} className="w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl font-bold hover-lift">üìã Copy Address</button>
                        </div>
                      </div>
                    </div>
                  )}
                </div>
              </div>
            </div>
          );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
